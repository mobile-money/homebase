<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>Budgets - Money</title>

		<link rel="stylesheet" href="../shared/css/bootstrap.min.css">
		<link rel="stylesheet" href="../shared/css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="../shared/css/bootstrap-datepicker3.standalone.min.css">
		<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
		<link rel="stylesheet" href="../shared/css/style.css">
		<link rel="shortcut icon" href="../shared/img/favicon.ico" type="image/x-icon">
		<link rel="icon" href="../shared/img/favicon.ico" type="image/x-icon">
	</head>
	<body style="display:none;">
	
		<!--Start Info Modal-->
		<div class="modal fade" id="infoModal" tabindex="-1" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title" id="infoModalTitle"></h4>
					</div>
					<div class="modal-body">
						<div id="infoModalBody"></div>
					</div>
					<div class="modal-footer">
						<button class="btn btn-info" data-dismiss="modal" aria-label="OK" title="OK">OK</button>
					</div>
				</div>
			</div>
		</div>
		<!--End Info Modal-->
		<!--Start Create Budget Modal-->
		<div class="modal fade" id="createBudgetModal" tabindex="-1" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">Create Budget</h4>
					</div>
					<div class="modal-body">
						<div id="createBudgetModalBody">
							<div class="form-group">
								<label>Budget Name</label>
								<input id="newBudName" class="form-control" type="text" placeholder="Budget Name" maxlength=48 />
							</div>
							<div><strong>Expenses</strong><table id="newBudExpenses"><thead><tr style="font-size:0.7em;font-weight:bold;text-align:center;"><td>Category</td><td>Amount</td><td>Time Span</td></tr></thead><tbody></tbody></table></div>
							<div><br /><strong>Incomes</strong><table id="newBudIncomes"><thead><tr style="font-size:0.7em;font-weight:bold;text-align:center;"><td>Category</td><td>Amount</td><td>Time Span</td></tr></thead><tbody></tbody></table></div>
                            <div class="form-group">
                                <label>Applicable Account(s)</label>
                                <select multiple id="newBudAccounts" class="form-control"></select>
                            </div>
                            <div class="form-group">
                                <label>Group Access</label>
                                <select multiple id="newGroups" class="form-control"></select>
                            </div>
                        </div>
					</div>
					<div class="modal-footer">
						<button class="btn btn-success" title="Create Budget" id="createBudgetButton"><i class="fa fa-plus"></i></button>
                        <button class="btn btn-danger" data-dismiss="modal" aria-label="Cancel" title="Cancel Create Budget">Cancel</button>
					</div>
				</div>
			</div>
		</div>
		<!--End Create Budget Modal-->
		<!--Start Edit Budget Modal-->
		<div class="modal fade" id="editBudgetModal" tabindex="-1" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">Edit Budget</h4>
					</div>
					<div class="modal-body">
						<div id="editBudgetModalBody">
							<div class="form-group">
								<label>Budget Name</label>
								<input id="editBudName" class="form-control" type="text" placeholder="Budget Name" maxlength=48 />
							</div>
							<div><strong>Expenses</strong><table id="editBudExpenses"><thead><tr style="font-size:0.7em;font-weight:bold;text-align:center;"><td>Category</td><td>Amount</td><td>Time Span</td></tr></thead><tbody></tbody></table></div>
							<div><br /><strong>Incomes</strong><table id="editBudIncomes"><thead><tr style="font-size:0.7em;font-weight:bold;text-align:center;"><td>Category</td><td>Amount</td><td>Time Span</td></tr></thead><tbody></tbody></table></div>
                            <div class="form-group">
                                <label>Applicable Account(s)</label>
                                <select multiple id="editBudAccounts" class="form-control"></select>
                            </div>
                            <div class="form-group">
                                <label>Group Access</label>
                                <select multiple id="editGroups" class="form-control"></select>
                            </div>
                        </div>
					</div>
					<div class="modal-footer">
						<button class="btn btn-primary" title="Edit Budget" id="editBudgetButton"><i class="fa fa-pencil"></i></button><button class="btn btn-danger" data-dismiss="modal" aria-label="Cancel" title="Cancel Edit Budget">Cancel</button>
					</div>
				</div>
			</div>
		</div>
		<!--End Edit Budget Modal-->
		<!--Start Delete Budget Modal-->
		<div class="modal fade" id="deleteBudgetModal" tabindex="-1" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">Delete Budget</h4>
					</div>
					<div class="modal-body">
						<div id="deleteModalBody"></div>
					</div>
					<div class="modal-footer">
						<button class="btn btn-danger" title="Delete Budget" id="deleteBudgetButton"><i class="fa fa-trash"></i></button><button class="btn btn-default" data-dismiss="modal" aria-label="Cancel" title="Cancel Delete Budget">Cancel</button>
					</div>
				</div>
			</div>
		</div>
		<!--End Delete Budget Modal-->
		<!--Start Add Category Modal-->
		<div class="modal fade" id="addCategoryModal" tabindex="-1" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">Add Category</h4>
					</div>
					<div class="modal-body">
						<div id="addCategoryModalBody">
							<div class="form-group">
								<label>Category Name</label>
								<input id="newCatName" class="form-control" type="text" placeholder="Category Name" maxlength=48 />
							</div>
							<div class="form-group">
								<label>Category Type</label>
								<select id="newCatType" class="form-control">
									<option value="e" selected>Expense</option>
									<option value="i">Income</option>
								</select>
							</div>
							<div class="form-group">
								<label>Applicable Accounts</label>
								<select multiple id="newAccounts" class="form-control"></select>
                                <p id="new_acct_error" style="color:red;font-style:italic;display:none;">You must chose at least one Account</p>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<button class="btn btn-success" title="Add Category" id="addCategoryButton"><i class="fa fa-plus"></i></button>
						<button class="btn btn-danger" data-dismiss="modal" aria-label="Cancel" title="Cancel Add Category">Cancel</button>
					</div>
				</div>
			</div>
		</div>
		<!--End Add Category Modal-->
		<!--Start Edit Category Modal-->
		<div class="modal fade" id="editCategoryModal" tabindex="-1" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">Edit Category</h4>
					</div>
					<div class="modal-body">
						<div id="editCategoryModalBody">
                            <input type="hidden" id="editCatId" />
                            <div class="form-group">
                                <label>Category Name</label>
                                <p id="editCatName"></p>
                                <!--<input id="editCatName" class="form-control" type="text" placeholder="Category Name" maxlength=48 />-->
                            </div>
                            <div class="form-group">
                                <label>Category Type</label>
                                <p id="editCatType"></p>
                                <!--<select id="editCatType" class="form-control">-->
                                    <!--<option value="e" selected>Expense</option>-->
                                    <!--<option value="i">Income</option>-->
                                <!--</select>-->
                            </div>
                            <div class="form-group">
                                <label>Modification Type</label>
                                <select id="editType" class="form-control">
                                    <option value="" selected>---</option>
                                    <option value="add">Add Account(s)</option>
                                    <option value="remove">Remove Account(s)</option>
                                </select>
                                <p id="edit_acct_type_error" style="color:red;font-style:italic;display:none;">You must chose the type of update</p>
                            </div>
                            <div class="form-group" id="editAccountsDiv" style="display:none;">
								<label>Accounts</label>
								<select multiple id="editAccounts" class="form-control"></select>
                                <p id="edit_acct_error" style="color:red;font-style:italic;display:none;">You must chose at least one Account</p>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<!--<div class="mr-auto">-->
							<!--<button class="btn btn-danger" title="Delete Category" id="dltCategoryButton"><i class="fa fa-trash"></i></button>-->
						<!--</div>-->
						<div class="ml-auto">
							<button class="btn btn-primary" title="Edit Category" id="editCategoryButton"><i class="fa fa-pencil"></i></button>
							<button class="btn btn-danger" data-dismiss="modal" aria-label="Cancel" title="Cancel Edit Category">Cancel</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--End Edit Category Modal-->
		<!--Start Delete Category Modal-->
		<div class="modal fade" id="deleteCategoryModal" tabindex="-1" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">Delete Category</h4>
					</div>
					<div class="modal-body">
						<div id="deleteCategoryModalBody"></div>
					</div>
					<div class="modal-footer">
						<button class="btn btn-danger" title="Delete Category" id="deleteCategoryButton"><i class="fa fa-trash"></i></button>
						<button class="btn btn-default" data-dismiss="modal" aria-label="Cancel" title="Cancel Delete Category">Cancel</button>
					</div>
				</div>
			</div>
		</div>
		<!--End Delete Category Modal-->

		<nav class="navbar navbar-expand-lg navbar-fixed-top navbar-light bg-light">
			<a class="navbar-brand" href="/homebase">
				<img src="../shared/img/brand.png" style="height:1em;" />
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item"><a class="nav-link" href="/money/accounts">Accounts</a></li>
					<li class="nav-item"><a class="nav-link" href="/money/transactions">Transactions</a></li>
					<li class="nav-item active"><a class="nav-link" href="/money/budgets">Budgets <span class="sr-only">(current)</span></a></li>
					<li class="nav-item"><a class="nav-link" href="/money/bills">Bills</a></li>
					<li class="nav-item"><a class="nav-link" href="/money/flows">Flows</a></li>
				</ul>
				<ul class="navbar-nav ml-auto">
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
							Hello, <span id="user_name"></span>
							<span class="caret"></span>
						</a>
						<ul class="dropdown-menu dropdown-menu-right text-center" aria-labelledby="userDropdown">
							<li><a href="/admin/my_account">My Account</a></li>
							<li><a href="/admin/groups">Groups</a></li>
							<li><a href="#" onClick="logOut();">Log Out</a></li>
						</ul>
					</li>
				</ul>
			</div><!-- /.navbar-collapse -->
		</nav>


		<div class="container-fluid">
			<div class="row" style="margin-top:10px;">
				<div class="col-sm-9">
					<div class="row">
						<div class="col-sm-3">
							<button class="btn btn-success btn-sm" id="createBudgetBtn">Create Budget</button>
						</div>
						<div class="col-sm-3">
							<select id="budgetSelect" class="form-control"></select>
						</div>
						<div class="col-sm-6">
							<select class="form-control" id="dateSelect">
								<option id="yearSelector" value="y">Current&nbsp;Year</option>
								<option id="monthSelector" value="m" selected>Current&nbsp;Month</option>
								<option id="weekSelector" value="w">Current&nbsp;Week</option>
								<option value="c">Custom</option>
							</select>
						</div>
					</div>
					<div class="row justify-content-end">
						<div class="col-sm-6" id="dateFields" style="display:none;margin-top:10px;"></div>
					</div>
					<div class="row">
						<div class="col-sm-12" id="budgetBody">
							<!--Budget Body-->
						</div>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="row">
						<div class="col-sm-12">
							<button class="btn btn-success btn-sm" id="addCategoryBtn">Add Category</button>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12 card" id="categoryBody" style="margin-top:10px;">
							<!--Category Body-->
						</div>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript" src="../shared/js/jquery-2.2.0.min.js"></script>
		<script type="text/javascript" src="../shared/js/jquery.color-2.1.2.min.js"></script>
		<script type="text/javascript" src="../shared/js/socket.io-2.1.1.js"></script>
		<script type="text/javascript" src="../shared/js/moment.min.js"></script>
		<script type="text/javascript" src="../shared/js/underscore-1.8.3.js"></script>
		<script type="text/javascript" src="../shared/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../shared/js/bootstrap-datepicker.min.js"></script>
		<script type="text/javascript" src="js/global.js"></script>
		<script type="text/javascript" src="js/budgets.js"></script>
	</body>
</html>